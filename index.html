<!DOCTYPE html>
<html>
<head>
  <title>Senarai Staf</title>
</head>
<body>
  <h2>Carian Staf</h2>
  <label>Pilih staf:</label>
  <select id="staffSelect"></select>

  <div id="result"></div>

  <script>
    async function loadData() {
      let response = await fetch("https://script.google.com/macros/s/AKfycbzRC-yL02g4nWucwsCgEfu1XEjdKTpZC7VMouG5pM__K7S02Mx1DTWdvutwoHDso0daHw/exec");
      let data = await response.json();

      let select = document.getElementById("staffSelect");
      select.innerHTML = "<option value=''>--Pilih Nama Staf--</option>";

      data.forEach(staff => {
        let option = document.createElement("option");
        option.value = staff.nama;
        option.textContent = staff.nama;
        select.appendChild(option);
      });

      select.onchange = function() {
        let chosen = data.find(s => s.nama === this.value);
        if (chosen) {
          document.getElementById("result").innerHTML = `
            <p><b>Nama:</b> ${chosen.nama}</p>
            <p><b>Jawatankuasa:</b> ${chosen.jawatankuasa}</p>
            <p><b>Pemberat:</b> ${chosen.pemberat}</p>
          `;
        } else {
          document.getElementById("result").innerHTML = "";
        }
      };
    }

    loadData();
  </script>
</body>
</html>

